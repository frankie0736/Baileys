# Constraints

## MVP Scope

| 功能 | 状态 |
|------|------|
| AI 回复文字消息 | ✅ 必做 |
| 多轮对话记忆 | ✅ 必做 |
| 长文本智能分段 | ✅ 必做 |
| 连续消息合并 | ✅ 必做 |
| 智能延迟（与内容长度相关） | ✅ 必做 |

## Non-Goals

| 功能 | 原因 |
|------|------|
| 图片理解 (GPT-4V) | MVP 阶段不做 |
| 文档解析 (PDF/Word) | MVP 阶段不做 |
| 语音转文字 | MVP 阶段不做 |
| 多语言自动切换 | MVP 阶段不做 |
| 数据库存储 | 用文件系统即可 |
| 跨服务器共享对话 | 单机 MVP |

## 依赖

| 依赖 | 版本/来源 |
|------|-----------|
| OpenAI SDK | npm: openai |
| API Key | 用户自行配置 |

## 约束

| 约束 | 说明 |
|------|------|
| 只处理文字消息 | 图片/视频/文件保持现有行为 |
| 对话历史有上限 | 超过 20 轮自动裁剪旧消息 |
| 单用户单会话 | 每个 JID 独立对话历史 |
